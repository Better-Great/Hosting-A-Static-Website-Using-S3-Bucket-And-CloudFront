# **Hosting A Static Website Using S3 Bucket And CloudFront**

One of the best ways to host website is on the cloud. Amazon Web Services (AWS) offers excellent services for hosting static websites like S3 buckets and CloudFront, as they're easy to use, affordable, and offers scalable solutions.  

S3 buckets are like digital containers in the cloud for storing various items like files, folders and data. They're reliable and can handle a lot, making them great for keeping your website's static files safe. These could be things like HTML, CSS, JavaScript, images, and other essentials.   Through the AWS Management Console or AWS CLI, it is possible to enable static website hosting on an S3 bucket with just a few clicks. Once enabled, the S3 bucket provides a URL endpoint where your website can be accessed.  

Although S3 buckets can host static websites, integrating CloudFront as a CDN enhances website performance and general user experience. CloudFront stores website content at multiple edge locations globally, cutting down on delays and accelerating content delivery to users. When someone requests a page, CloudFront retrieves it from the closest edge location, minimizing the time it takes for information to travel between the user and the server.

For the sake of this project, I'll be creatinng an IAM user following the principle of least privilege, meaning that the user will be granted access only to permissions specifically tailored for hosting a static website on S3 and CloudFront.  Following the creation of the IAM user, I will configure an S3 bucket to host the website files and enable static website hosting. Subsequently, a CloudFront distribution will be set up to improve website performance by caching content at edge locations worldwide. This distribution will serve as the content delivery network, reducing latency and enhancing user experience. 

## **Step 1: Create an IAM User and Group**
1. To create an IAM user, sign into the [AWS management Console](https://aws.amazon.com/console/) as a root user. Within the AWS Management Console, search for “IAM” service in the search bar or within recently used services. Once within the IAM service interface, on the left navigation bar click on `User` and slect `Create User`.  
![IAM](./images/sem3-Ai-1.png)  
![IAM1](./images/sem3-Ai-2.png)  

1. Within the user interface, assign a name to the user begin created such as *better-great-altsch*. Then, select the type of access. For simplicity, I recommend choosing "Programmatic access," which will create an access key ID and secret access key.  
![user-name](./images/sem3-Ai-3.png)
1. Assign a password to the user
![user-passwd](./images/sem3-Ai-4.png)  

1. The next stage is to allocate the neccessary privileges and policies to the user. A usergroup is created, to hold all the privilges for the user. 
 To do this, click on `Add user to group` and then `Create Group` to continue.  
![usergroup](./images/sem3-Ai-5.png)  

1. To easily identify the group containing permissions for this user, I named it *S3CloudFrontDeploymentGroup*. The permissions assigned to this group include `AmazonS3FullAccess`, `CloudFrontFullAccess`, `AmazonS3ReadOnlyAccess`, `IAMReadOnlyAccess`, and `IAMAccessAnalyzerFullAccess`.
![usergroupname](./images/sem3-Ai-6.png)
![usergroup-permissions](./images/sem3-Ai-7.png)
1. Please review the permissions you've assigned to this user and ensure they are correct. Then scroll down and click on `Create User Group`. You have now successfully created a `user` and assigned a respective `usergroup` to it. 
![usergroup-review](./images/sem3-Ai-8.png)
![usergroup-create](./images/sem3-Ai-9.png)

## **Step 2: Login Into The User And Create S3 Bucket**
1. There are two ways to log in to the IAM user. You can copy the password generated by AWS for this user and then use the URL link provided to navigate to the signin page. Alternatively, you could choose to download the CSV file and access the console through it. Please note that you will be asked to reset the password for this user. You could take advantage of a password generator to assign a very strong password to the user.
![user-retrieve-passwd](./images/sem3-Ai-10.png)
1. Please ensure you remember the account ID or alias of your user, as well as the name of the user and their respective password.  
![user-signin](./images/sem3-Ai-11.png)

1. Now that you're within the 'IAM User', use the search bar to look for 'S3'. Alternatively, you can check the recently used services to see if it's among them by chance. 
 ![search-s3](./images/sem3-Ai-12.png)
1. When you see `S3` in the dropdown box, click on it, and you'll be taken to the S3 bucket interface. While within the interface, to create a bucket, navigate to `Create Bucket` on the interface.  
 ![create-bucket](./images/sem3-Ai-13.png)
1. The first step in creating a new bucket is to give it an appropriate name for easy identification. Therefore, name the bucket *static-website-hosting-popdesign*. It's important to note that it is case-sensitive; therefore, everything has to be in lowercase. Also, choose the general purpose option for this project.
![s3-name](./images/sem3-Ai-14.png)
1. Leave the other settings in their default mode. Scroll down until you find the option to create a bucket, then click on it to create the bucket. 
![s3-create](./images/sem3-Ai-15.png)
![s3-created](./images/sem3-Ai-16.png)

## **Step 3: Set-up S3 Bucket**
After creating the `S3` bucket, the next step is to configure it to host our static website properly. It's important to mention that this assumes you have a folder containing the files for the website on your local machine. The first step is to click on the name of the bucket to enter the interface and properly configure the bucket. Within the interface, navigate to `Objects` and select `Upload` to upload the necessary files required to host the static website properly.
![s3-object](./images/sem3-Ai-17.png)  
1. Select `Add files` to upload the files related to the website, and then choose `Add folders` to upload the folder containing various items for the website as well. After selecting all the files and folders associated with the website, scroll down and click on `Upload`.
![s3-upload](./images/sem3-Ai-18.png)
![s3-upload1](./images/sem3-Ai-19.png)
![s3-uploaded](./images/sem3-Ai-20.png)

1. To enable static website hosting, within the interface of the bucket we have created, navigate to `Properties`, and scroll down until you find `Static website hosting`. Click on the `Edit` option.
![s3-properties](./images/sem3-Ai-21.png)
![s3-web-enable](./images/sem3-Ai-22.png)
1. Within the options, select `Enable` to ensure the bucket has the privilege to properly request static web enabling. Then assign appropriate names to the index and error documents, such as `index.html` and `error.html`.
![s3-web-enable1](./images/sem3-Ai-23.png)
![s3-web-enable2](./images/sem3-Ai-24.png)
1. You could copy the link to website from the endpoint as shown below. 
![s3-endpoint](./images/sem3-Ai-25.png)
It's important to note that in the permissions for this bucket, the `Block all public acces`' option was enabled. This ensures that the website is private and can only be accessed through the `CloudFront domain`. Therefore, to gain access to this website, we need to create a CloudFront distribution, since we are almost done with the configuration for the S3 bucket. 

## **Step 4: Create And Set-up CloudFront Distribution**
1. To create a CloudFront distribution, use the search bar to search for `CloudFront` and click on it. On the CloudFront dashboard, you will see the option to `Create a CloudFront distribution`. Click on it, as our aim is to create a new distribution.
![search-cloudfront](./images/sem3-Ai-26.png)
![create-distribution](./images/sem3-Ai-27.png)

1. If you copied the URL from the static website hosting endpoint, assign it as the origin domain name. However, if you didn't, CloudFront will also list the current S3 bucket running, so select the bucket you created.. 
![origin-name](./images/sem3-Ai-50.png)

1. Scroll down, under `Origin Access`, select `Origin Access Control Settings`, and then click on `Create New OAC`. Within the OAC, confirm the name of the origin assigned and click on `Create`.
![origin-access](./images/sem3-Ai-51.png)
![origin-oac](./images/sem3-Ai-52.png)

1. Under the default root object, input 'index.html', as it will be the document that leads to every other aspect of the website. Then scroll down and click on create distribution.  
![default-root](./images/sem3-Ai-53.png)

1. When you create the distribution, a notification to set up the bucket policy accordingly will pop up. Copy the policy and then go to the search bar, find `S3`, and navigate to the bucket that was earlier created. Assign the appropriate policy to it so that we can host the website. This could also be a good time to copy the distribution domain name and store it somewhere you can easily access later.
![copy-policy](./images/sem3-Ai-54.png)

1. While within the S3 dashboard, click on the name of the bucket that was created earlier. Within the object, click on `Permissions` and scroll down to `Bucket Policy`. When you get to the bucket policy option, click on the option to edit the bucket policy and then paste the policy code that you earlier copied after creating the new distribution. After pasting the policy, scroll down and click on `Create Policy`.
![edit-bucket-policy](./images/sem3-Ai-55.png)
![create-bucket-policy](./images/sem3-Ai-56.png)
![created-policy](./images/sem3-Ai-57.png)  

1. Once again, navigate to the CloudFront dashboard. Confirm that the status of the distribution is either `Enabled` or `Deployed`, and then click on the name of the distribution. Within the dashboard, copy the distribution domain name just in case you didn't copy it earlier. 
![distribution-enabled](./images/sem3-Ai-58.png)
![domain-name](./images/sem3-Ai-59.png)


## **Step 5: Hosting The Website and Deleting The Resources Created**
##### After copying the link, go to your preferred browser and paste the link. It should load the website you uploaded to the S3 bucket. If this is done successfully, congratulations! You have successfully hosted a private static website using S3 and CloudFront
![hosting-website](./images/sem3-Ai-60.png)

##### To delete a distribution created on CloudFront, navigate to the CloudFront dashboard and select the distribution you want to delete. `Disable` that distribution. It will take a few minutes to be disabled, depending on your network connection. When it is fully disabled, the delete option will appear once you select the distribution again. Proceed to click on `delete` and follow the confirmation prompts to delete it 
![disable-distriution](./images/sem3-Ai-61.png)
![disable-distriution-confirmation](./images/sem3-Ai-62.png)
![delete-distriution](./images/sem3-Ai-67.png)

##### To delete the S3 bucket we created earlier, navigate to the S3 bucket and click on the name. Then select `Empty` to empty the content of the bucket. This is necessary because before a bucket is deleted, you have to empty its contents first. Follow the confirmation prompts to empty the bucket and proceed with the project. After emptying the bucket, select the bucket again and click on `Delete`. Follow the confirmation prompts to delete the bucket. It is important to delete the resources used to avoid unnecessary charges
![empty-bucket](./images/sem3-Ai-63.png)
![empty-bucket-confirm](./images/sem3-Ai-64.png)
![delete-bucket](./images/sem3-Ai-65.png)
![delete-bucket-confirm](./images/sem3-Ai-66.png)






